{"version":3,"sources":["webpack:///node_modules/jwt-decode/build/jwt-decode.esm.js","webpack:///src/app/account/login/login.component.ts","webpack:///src/app/account/login/login.component.html","webpack:///src/app/account/account.module.ts","webpack:///src/app/account/account-routing.module.ts"],"names":["e","message","prototype","Error","name","r","window","atob","bind","t","String","replace","length","n","o","a","i","c","charAt","fromCharCode","indexOf","decodeURIComponent","charCodeAt","toString","toUpperCase","header","JSON","parse","split","LoginComponent","router","alert","http","saveEmail","localStorage","getItem","autoLogin","user","email","user_password","navigateByUrl","post","token","data","setItem","company_id","user_name","user_position","user_id","errormsg","login","selector","templateUrl","styleUrls","AccountModule","declarations","imports","routes","path","component","redirectTo","AccountRoutingModule","forChild","exports"],"mappings":"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","file":"account-account-module-es5.js","sourcesContent":["function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n//# sourceMappingURL=jwt-decode.esm.js.map\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertService } from 'src/app/core/services/alert.service';\r\nimport { HttpService } from 'src/app/core/services/http.service';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  saveEmail = localStorage.getItem('saveEmail') === 'true' ? true : false;\r\n  autoLogin = localStorage.getItem('autoLogin') === 'true' ? true : false;\r\n\r\n  user = {\r\n    email: this.saveEmail ? localStorage.getItem('email') || '' : '',\r\n    user_password: '',\r\n  };\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private alert: AlertService,\r\n    private http: HttpService\r\n  ) {\r\n    if (localStorage.getItem('token')) {\r\n      this.router.navigateByUrl('/dashboard');\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  // 로그인\r\n  async login() {\r\n    try {\r\n      const { token } = await this.http.post('/rpc/login', this.user);\r\n      const data = jwtDecode<any>(token);\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('companyId', data.company_id);\r\n      localStorage.setItem('email', this.user.email);\r\n      localStorage.setItem('saveEmail', String(this.saveEmail));\r\n      localStorage.setItem('autoLogin', String(this.autoLogin));\r\n      localStorage.setItem('name', data.user_name);\r\n      localStorage.setItem('position', data.user_position);\r\n      localStorage.setItem('user_id', data.user_id);\r\n      // localStorage.setItem('logo', data.company_logo_url);\r\n\r\n      this.router.navigateByUrl('/dashboard');\r\n    } catch (error) {\r\n      this.alert.errormsg(\r\n        '로그인 오류',\r\n        '아이디 또는 비밀번호를\\n확인해 주세요.'\r\n      );\r\n    }\r\n  }\r\n}\r\n","<div class=\"account-pages my-5 pt-sm-5\">\r\n  <div class=\"container\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-8 col-lg-6 col-xl-5\">\r\n        <div class=\"card overflow-hidden\">\r\n          <div class=\"card-body\">\r\n            <div class=\"logo\">\r\n              <img src=\"assets/imgs/logo.png\" alt=\"\" />\r\n              <p>쉽고 편리한 스마트 공장, 원팩</p>\r\n            </div>\r\n\r\n            <div class=\"input-item mb-16\">\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                placeholder=\"아이디를 입력하세요.\"\r\n                [(ngModel)]=\"user.email\"\r\n                name=\"email\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"input-item\">\r\n              <input\r\n                type=\"password\"\r\n                [(ngModel)]=\"user.user_password\"\r\n                placeholder=\"비밀번호를 입력해주세요.\"\r\n                (keyup.enter)=\"login()\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"check-wrap\">\r\n              <div class=\"custom-control custom-checkbox\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  id=\"all\"\r\n                  [(ngModel)]=\"saveEmail\"\r\n                />\r\n                <label class=\"custom-control-label\" for=\"all\"\r\n                  >ID 저장하기</label\r\n                >\r\n              </div>\r\n\r\n              <div class=\"custom-control custom-checkbox\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  id=\"login\"\r\n                  [(ngModel)]=\"autoLogin\"\r\n                />\r\n                <label class=\"custom-control-label\" for=\"login\"\r\n                  >자동 로그인하기</label\r\n                >\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              class=\"login-btn\"\r\n              [disabled]=\"!user.email || !user.user_password\"\r\n              (click)=\"login()\"\r\n            >\r\n              로그인\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AccountRoutingModule } from './account-routing.module';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [CommonModule, AccountRoutingModule, ReactiveFormsModule, NgbAlertModule, FormsModule],\r\n})\r\nexport class AccountModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login/login.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent,\r\n  },\r\n  { path: '**', redirectTo: 'login' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AccountRoutingModule {}\r\n"]}